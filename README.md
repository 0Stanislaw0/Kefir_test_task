# Kefir_test_task

 Тестовое задание:
 Сервис на python, планировщик задач по экспорту статей с сайта habr.ru. 
 Несколько раз в день ежедневно (конкретные временные точки не принципиальны), просыпается джоб, 
 вытаскивает из json-файла (формат файла произвольный) список URL со статьями для экспорта, затем получает их посредством get-запроса, парсит ответ, 
 сохраняет в базу текст статьи, засыпает.  http-запросы необходимо выполнять асинхронно (asyncio/aiohttp или производные).
 Отсутствуют ограничения на использование библиотек.


Комментарий:
Запускается первый парсер,который парсит весь раздел, 1000 статей(50 страниц, на каждой странице 20 статей) и
и все юрлы  записываются в бд, как и их содержимое.

Запросы идут асинхронно, не больше 20 статей за раз.

Запускается второй парсер, который парсит только первую страничку и ищет новые статьи, 
если нет статьи бд, то эта юрл записывается в таблицу юрлов.

Дальше эта юрл добавляется в список тасков, после идут асинхронные запросы,
и потом содержимое записывается в бд.

Файл values.py хранит значения юрлов,xpath и время, которое  устанавливает  периодичность проверки хабры на новые статьи.

В файл db.py функции для записи в бд.
БД использовал sqlite3.

При запуске первого парсера бд будет инициализирована






Для работы с приложением выполните следующие шаги:

### 1. Создайте и активируйте виртуальное окружение:

###     
	virtualenv --python=python3.8 ./
	source ./bin/activate

### 2. Установите зависимости:

###     
	pip3 install -r requirements.txt

### 3. Запустите файл parser.py. 
###     
	python3 parser.py

### 4. После запустите regular_parser.py

###     
	python3 regular_parser.py
  
